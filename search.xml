<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Github主页美化</title>
      <link href="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/"/>
      <url>/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>Github主页的展示效果总结。<br><span id="more"></span></p><h2 id="添加Github状态"><a href="#添加Github状态" class="headerlink" title="添加Github状态"></a>添加Github状态</h2><p>实现效果如下：</p><p><img data-fancybox="gallery" src="https://s2.loli.net/2022/06/12/dyDPRcEV9HLa318.png" alt="image-20220612125324038" data-caption="image-20220612125324038" loading="lazy"></p><p>配置地址见：<a href="https://github.com/anuraghazra/github-readme-stats">https://github.com/anuraghazra/github-readme-stats</a></p><h2 id="添加Github小图标"><a href="#添加Github小图标" class="headerlink" title="添加Github小图标"></a>添加Github小图标</h2><p>如何添加下图所示的小图标呢？</p><p><img data-fancybox="gallery" src="https://s2.loli.net/2022/06/12/SmVoYOB9xyNC6LW.png" alt="image-20220612135513281" data-caption="image-20220612135513281" loading="lazy"></p><p>方法很简单：</p><ol><li>找到这个网站主页：<a href="https://shields.io/，这其实就是一个设计图标的网站。">https://shields.io/，这其实就是一个设计图标的网站。</a></li><li>打开官网主页后，找到下述图中信息，直接填充好文字和信息，以及图标的颜色，点击<code>Make Badge</code>，就会生成这个图标的地址。</li></ol><p>​    <img data-fancybox="gallery" src="https://s2.loli.net/2022/06/12/uNKfQRyhGJsjXen.png" alt="image-20220612135849183" data-caption="image-20220612135849183" loading="lazy"></p><ol><li>然后在Github主页插入即可。插入方式如下：</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">[![](https://img.shields.io/badge/CHH3213-CSDN-red)](https://blog.csdn.net/weixin_42301220?spm=1010.2135.3001.5343)<br></code></pre></td></tr></table></figure><p>前面的是图标地址，后面的是链接地址。    生成后的图标如下：</p><p><a href="https://blog.csdn.net/weixin_42301220?spm=1010.2135.3001.5343"><img src="https://img.shields.io/badge/CHH3213-CSDN-red" alt></a></p><h2 id="使用Wakatime记录你的Coding数据"><a href="#使用Wakatime记录你的Coding数据" class="headerlink" title="使用Wakatime记录你的Coding数据"></a>使用Wakatime记录你的Coding数据</h2><p><a href="https://wakatime.com/">WakaTime</a> 是一款可以记录你的编码时间的工具，目前支持绝大部分主流的 IDE 以及 Chrome 浏览器。</p><h3 id="安装Wakatime"><a href="#安装Wakatime" class="headerlink" title="安装Wakatime"></a>安装Wakatime</h3><ol><li><a href="https://wakatime.com/signup">注册</a> WakaTime 账号；</li><li>在<a href="https://wakatime.com/plugins">官网</a>找到对应的 IDE 插件，按照步骤安装 WakaTime 插件；</li><li>在<a href="https://wakatime.com/settings/account">个人设置</a>页面复制 Secret API Key ，填入对应的 WakaTime 插件中；</li><li>过一段时间后，你就可以在 WakaTime 网站上看到你的编码情况；</li></ol><h3 id="主页接入waka-box"><a href="#主页接入waka-box" class="headerlink" title="主页接入waka-box"></a>主页接入waka-box</h3><p><a href="https://github.com/matchai/waka-box">waka-box</a>提供了你每周的代码状态，并且更新为类似于下面的内容：</p><p><img data-fancybox="gallery" src="https://s2.loli.net/2022/06/12/B7QEtZ4UCOJuoh2.png" alt="image-20220612125625163" data-caption="image-20220612125625163" loading="lazy"></p><p>下面是接入步骤：</p><ol><li><p>获取 GitHub API 令牌， 打开 <code>Settings / Developer settings / Personal access tokens</code> 页面，创建 <a href="https://github.com/settings/tokens/new"><code>Github Token</code></a> ，权限部分勾选<code>repo</code>、<code>workflow</code>和<code>user</code>。生成后将<code>token</code>保存下来</p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/20221026211944.png" alt>  </p></li><li><p>进入 <code>WakaTime</code> <a href="https://wakatime.com/settings/profile">配置页面</a>，勾选 <code>Display coding activity publicly</code> 与 <code>Display languages, editors, operating systems publicly</code></p></li><li>查看 <code>WakaTime</code> 账号 <a href="https://wakatime.com/settings/api-key">api-key</a>，并保存好</li></ol><p>项目设置</p><ol><li><p>在你的Github 自定义首页的仓库，打开 <code>Settings / Secrets / Actions</code> 页面，点击 <code>New repository secret</code></p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/20221026211519.png" alt>  </p></li><li><p>添加 <code>Secret API Key</code> 密钥，Name 为 <code>WAKATIME_API_KEY</code> ，value 为<code>Secret API Key</code> 密钥</p></li><li>添加 <code>Secret API Key</code> 密钥，Name 为 <code>GH_TOKEN</code> ，value 为<code>GitHub API</code> token</li><li><p>配置Github Action工作流</p><p> 打开该仓库的 <code>Actions</code> 页面，点击 <code>set up a workflow yourself</code> 设置工作流</p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/actions.png" alt>  </p><p> 文件名随意，清空初始内容，添入如下配置</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">name:</span> <span class="hljs-string">Waka</span> <span class="hljs-string">Readme</span><br><br><span class="hljs-attr">on:</span><br><span class="hljs-attr">schedule:</span><br>    <span class="hljs-comment"># Runs at 12am IST</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">cron:</span> <span class="hljs-string">&#x27;30 18 ** *&#x27;</span><br><span class="hljs-attr">workflow_dispatch:</span><br><span class="hljs-attr">jobs:</span><br><span class="hljs-attr">update-readme:</span><br>    <span class="hljs-attr">name:</span> <span class="hljs-string">Update</span> <span class="hljs-string">Readme</span> <span class="hljs-string">with</span> <span class="hljs-string">Metrics</span><br>    <span class="hljs-attr">runs-on:</span> <span class="hljs-string">ubuntu-latest</span><br>    <span class="hljs-attr">steps:</span><br>    <span class="hljs-bullet">-</span> <span class="hljs-attr">uses:</span> <span class="hljs-string">anmol098/waka-readme-stats@master</span><br>        <span class="hljs-attr">with:</span><br>        <span class="hljs-attr">WAKATIME_API_KEY:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.WAKATIME_API_KEY</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">GH_TOKEN:</span> <span class="hljs-string">$&#123;&#123;</span> <span class="hljs-string">secrets.GH_TOKEN</span> <span class="hljs-string">&#125;&#125;</span><br>        <span class="hljs-attr">SHOW_OS:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_PROJECTS:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_COMMIT:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_DAYS_OF_WEEK:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_TIMEZONE:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_EDITORS:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_SHORT_INFO:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_LOC_CHART:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_TOTAL_CODE_TIME:</span> <span class="hljs-string">&quot;False&quot;</span><br>        <span class="hljs-attr">SHOW_PROFILE_VIEWS:</span> <span class="hljs-string">&quot;False&quot;</span><br></code></pre></td></tr></table></figure><p> 一些自定义配置可以在 <a href="https://github.com/anmol098/waka-readme-stats">waka-readme-stats</a> 仓库中找到示例。</p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/set.png" alt>  </p><p> 然后提交至仓库。</p></li></ol><ol><li><p>更新<code>README.md</code>文件，在需要展示的地方，添加如下代码，下面代码相当于占位符，生成后的数据统计会放置在这个位置之中。</p> <figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">&lt;!--START_SECTION:waka--&gt;</span><br><span class="hljs-string">&lt;!--END_SECTION:waka--&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>点击该工作流，再点击<code>Run workflow</code>运行。</p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/20221026205208.png" alt>  </p><blockquote><p>github actions 工作流是根据 .yml 配置文件定时运行任务，如果想马上看到结果，就需要手动执行一下</p></blockquote></li><li><p>运行成功后可以点击当前的workflow进入查看执行日志。</p><p> <img src="/2022/10/27/Github%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/20221026212952.png" alt>  </p></li><li>以上配置完成后耐心等待数据同步到<code>readme</code>即可。</li></ol><p>另外还可参考以下资料：</p><ul><li><a href="https://blog.csdn.net/weixin_43233914/article/details/126087735">https://blog.csdn.net/weixin_43233914/article/details/126087735</a></li><li><a href="https://github.com/athul/waka-readme#extras">https://github.com/athul/waka-readme#extras</a></li><li><a href="https://github.com/anmol098/waka-readme-stats">https://github.com/anmol098/waka-readme-stats</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 主页美化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 主页 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Windows远程桌面工具连接Ubuntu系统</title>
      <link href="/2022/10/18/Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E5%B7%A5%E5%85%B7%E8%BF%9E%E6%8E%A5Ubuntu%E7%B3%BB%E7%BB%9F/"/>
      <url>/2022/10/18/Windows%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E5%B7%A5%E5%85%B7%E8%BF%9E%E6%8E%A5Ubuntu%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h1 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a>1. 前言</h1><h2 id="1-1-常见远程桌面软件推荐"><a href="#1-1-常见远程桌面软件推荐" class="headerlink" title="1.1 常见远程桌面软件推荐"></a>1.1 常见远程桌面软件推荐</h2><p>随着过去一年多的研究生生涯，也陆陆续续用了几款远程桌面软件。目前来看都还不错。我主要用过的是4款：<a href="https://www.teamviewer.cn/cn/">TeamViewer</a>，<a href="https://rustdesk.com/zh/">RustDesk</a>, <a href="https://sunlogin.oray.com/download">向日葵</a>, <a href="http://www.hellodesk.cn/download.html">ToDesk</a>。这4款ubuntu和windows下均可使用。</p><p>4个软件的界面分别如下：</p><p><img src="https://img-blog.csdnimg.cn/340cf47adb58419b9bc6a790a8540f34.png#pic_center" alt><br><img src="https://img-blog.csdnimg.cn/aa8f3c29acf14bcb87db5bc50803f45a.png#pic_center" alt><br><img src="https://img-blog.csdnimg.cn/df6a1ea3673442a2a7ae941521856fca.png#pic_center" alt><br><img src="https://img-blog.csdnimg.cn/334aee6b208c485bbf5eb6c03285445b.png#pic_center" alt>  </p><h2 id="1-2-比较"><a href="#1-2-比较" class="headerlink" title="1.2 比较"></a>1.2 比较</h2><ul><li>其中，个人体验而言，TeamViewer，RustDesk,ToDesk是优于向日葵的。因为向日葵免费版不能够<strong>进行传输文件</strong>，<strong>剪贴板</strong>也不能共享（不能相互之间复制粘贴文字）。</li><li>速度而言，使用局域网时，体验上三者没有什么差别；不使用局域网连接时，向日葵速度&gt;TeamViewer&gt;RustDesk=ToDesk。所以，使用局域网时，还是推荐使用后三者的。不过可以自建服务器，不过我自己没有试过，还不懂咋搞。。。</li><li>使用向日葵可能会碰到的一个问题，就是远程连接Ubuntu时，一连接就秒断的问题。具体可参考<a href="https://www.jianshu.com/p/0274a4b5e303">这个</a>。之前实验室的服务器就碰到了这个问题，折腾了很久都没解决，还差点把系统搞崩了，因此果断放弃在服务器上使用向日葵，转为使用后3种了。</li></ul><h1 id="2-使用windows远程桌面连接ubuntu"><a href="#2-使用windows远程桌面连接ubuntu" class="headerlink" title="2. 使用windows远程桌面连接ubuntu"></a>2. 使用windows远程桌面连接ubuntu</h1><p>用过windows远程桌面连接的小伙伴们都知道，使用起来非常顺畅丝滑，界面清晰。但它只能在windows之间使用，远程连接ubutnu还需要进行一些配置。</p><h2 id="2-1-安装xrdp"><a href="#2-1-安装xrdp" class="headerlink" title="2.1 安装xrdp"></a>2.1 安装xrdp</h2><p>Xrdp 是一个微软远程桌面协议（RDP）的开源实现，它允许我们通过图形界面控制远程系统。这里使用RDP而不是VNC作为远程桌面，是因为Windows自带的远程桌面连接软件用的就是RDP协议，RDP在Windows下的体验非常好，包括速度很快（因为压缩方案做得比较好），可以直接在主机和远程桌面之间复制粘贴等等。</p><blockquote><p>有的Xwindow软件是不太兼容xrdp的（比如ubuntu 18.04的默认桌面），但是ubuntu 20.04使用的Gnome是完全ok的。</p></blockquote><p>安装过程如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo apt install xrdp<br></code></pre></td></tr></table></figure><p>安装完成xrdp 服务将会自动启动，可以输入下面的命令验证它：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl status xrdp<br></code></pre></td></tr></table></figure><p>可以将xrdp设为开机启动<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl <span class="hljs-built_in">enable</span> xrdp<br></code></pre></td></tr></table></figure></p><p>默认情况下，xrdp 使用<code>/etc/ssl/private/ssl-cert-snakeoil.key</code>，它仅仅对ssl-cert用户组成语可读，所以需要运行下面的命令，将xrdp用户添加到这个用户组：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo adduser xrdp ssl-cert  <br>sudo systemctl restart xrdp<br></code></pre></td></tr></table></figure><p>然后使用Windows自带的远程桌面软件连接服务器IP地址或者域名就行了。</p><h2 id="2-2-问题1：远程连接后出现黑屏"><a href="#2-2-问题1：远程连接后出现黑屏" class="headerlink" title="2.2 问题1：远程连接后出现黑屏"></a>2.2 问题1：远程连接后出现黑屏</h2><p>==连接远程桌面输入账户和密码后，进入ubuntu20.04后，如果出现的是黑屏==，<font color="red>ubuntu系统下登出用户（log" out），远程连接正常。< font></font></p><p>或者使用下面步骤解决根本问题。</p><p>详情可阅读<a href="https://askubuntu.com/questions/1245020/xrdp-on-ubuntu-20-04">参考资料2.</a></p><ul><li><p>打开<code>startwm.sh</code>文件</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo vim /etc/xrdp/startwm.sh<br></code></pre></td></tr></table></figure></li><li><p>在以下位置添加如下内容：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">unset</span> DBUS_SESSION_BUS_ADDRESS<br><span class="hljs-built_in">unset</span> XDG_RUNTIME_DIR<br></code></pre></td></tr></table></figure><p>  <img src="https://img-blog.csdnimg.cn/88093ffce5284e3294f86a5b867ec5be.png#pic_center" alt>  </p></li></ul><!-- <center><img src="https://img-blog.csdnimg.cn/88093ffce5284e3294f86a5b867ec5be.png" width=60%></center> --><ul><li><p>然后重启xrdp服务，重新尝试连接即可。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl restart xrdp<br></code></pre></td></tr></table></figure></li></ul><blockquote><p>除此之外，若远程登录后不登出直接关闭远程窗口，ubuntu系统登录后无法看到桌面，需要远程后登出才可以使用。</p></blockquote><h2 id="2-3-问题2：远程连接只能登陆root用户，无法登录普通用户"><a href="#2-3-问题2：远程连接只能登陆root用户，无法登录普通用户" class="headerlink" title="2.3 问题2：远程连接只能登陆root用户，无法登录普通用户"></a>2.3 问题2：远程连接只能登陆root用户，无法登录普通用户</h2><ul><li><p>进行 <code>~/.xsession</code>的配置，以下以ubuntu20.04 gnome桌面类型配置为例。</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> gnome-session &gt; ~/.xsession<br></code></pre></td></tr></table></figure></li><li><p>修改<code>startwm.sh</code></p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo vim /etc/xrdp/startwm.sh<br></code></pre></td></tr></table></figure><p>  在<code>test -x /etc/X11/Xsession &amp;&amp; exec /etc/X11/Xsession</code>前添加如下代码：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">gnome-session<br>. /etc/X11/Xsession<br></code></pre></td></tr></table></figure><p>  <img src="https://img-blog.csdnimg.cn/7a711d14430c46a7b2bfcd585a5ce391.png#pic_center" alt>  </p></li></ul><ul><li><p>重启xrdp服务</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl restart xrdp<br></code></pre></td></tr></table></figure></li><li><p>使用windows远程连接工具连接Ubuntu，输入相应的用户密码后即可进入</p></li></ul><h1 id="3-进行内网穿透"><a href="#3-进行内网穿透" class="headerlink" title="3. 进行内网穿透"></a>3. 进行内网穿透</h1><blockquote><p>进行内网穿透的手段还可以参考<a href="https://chh3213.github.io/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/">博客</a>。这里不再赘述</p></blockquote><h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ul><li><a href="https://zhuanlan.zhihu.com/p/336429888">https://zhuanlan.zhihu.com/p/336429888</a></li><li><a href="https://askubuntu.com/questions/1245020/xrdp-on-ubuntu-20-04">https://askubuntu.com/questions/1245020/xrdp-on-ubuntu-20-04</a></li><li><a href="https://blog.csdn.net/Fatmear/article/details/122037566">https://blog.csdn.net/Fatmear/article/details/122037566</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 实用技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Remote </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透工具——cpolar</title>
      <link href="/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/"/>
      <url>/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>在之前介绍了<a href="https://chh3213.github.io/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/">SakuraFrp</a>内网穿透工具，后来又发现了一个也比较好的内网穿透工具<a href="https://www.cpolar.com/">cpolar</a>。</p><span id="more"></span><p>打开官网后直接选择对应版本下载安装即可。</p><p><img src="/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/下载.png#pic_center" alt>  </p><p>下面介绍windows下和ubuntu的安装。</p><h2 id="☺️windows-被控端安装"><a href="#☺️windows-被控端安装" class="headerlink" title="☺️windows 被控端安装"></a>☺️windows 被控端安装</h2><p>在官网注册好账号后，到官方界面下载对应的安装包，解压后默认安装即可。cpolar安装后会默认安装两条样例隧道:</p><ul><li>一个是Website隧道，指向http 8080端口</li><li>一个是远程桌面隧道（win系统），指向tcp 3389端口</li></ul><p>因此，我们安装完成后，只需要启动远程桌面隧道服务，就可以获得公网地址。</p><p>浏览器访问<code>127.0.0.1:9200</code>，登录cpolar web-ui管理界面。点击左侧仪表盘——隧道管理——隧道列表，找到远程桌面隧道，点击启动该隧道</p><p><img src="/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/隧道列表.png#pic_center" alt>  </p><p>隧道启动成功后，点击左侧仪表盘——状态——在线隧道列表，找到远程桌面隧道，可以看到已经有生成了相应的公网地址，复制下来。</p><p>安装完成后，在另外一台windows电脑进行远程桌面连接，填入刚才生成的公网TCP端口地址（是<code>tcp://</code>后面的地址），就可以实现内网穿透远程桌面连接。</p><h2 id="☺️linux被控端安装"><a href="#☺️linux被控端安装" class="headerlink" title="☺️linux被控端安装"></a>☺️linux被控端安装</h2><p>当服务器为linux系统时，我们可以通过SSH远程连接，同样正常在服务器安装cpolar客户端，然后映射内网端口即可。</p><p>linux系统官网已经给了一键自动安装脚本</p><ul><li>国内使用  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash<br></code></pre></td></tr></table></figure></li><li><p>国外使用</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -sL https://git.io/cpolar | sudo bash<br></code></pre></td></tr></table></figure></li></ul><p>注意root权限问题。</p><p>安装完成后，登录账号查看认证的token：</p><p><img src="/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/token.png#pic_center" alt></p><p>然后终端输入：<br><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gauss">cpolar authtoken 输入<span class="hljs-built_in">token</span>数字xxxxxxxxxxxxxxxxxx<br></code></pre></td></tr></table></figure></p><ul><li>如果需要配置cpolar开机自启动:  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl <span class="hljs-built_in">enable</span> cpolar<br></code></pre></td></tr></table></figure></li><li>启动服务时输入命令：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl start cpolar<br></code></pre></td></tr></table></figure></li><li>通过查看服务状态来检查是否启动成功：  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl status cpolar<br></code></pre></td></tr></table></figure>  如显示<code>active</code>，则说明已经启动成功。</li><li><p>关闭命令：</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo systemctl stop cpolar<br></code></pre></td></tr></table></figure></li><li><p>cpolar 卸载方法</p>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl -L https://www.cpolar.com/static/downloads/install-release-cpolar.sh | sudo bash -s -- --remove<br></code></pre></td></tr></table></figure></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash">cpolar默认安装路径 /usr/local/bin/cpolar,<br>安装脚本会自动配置systemd服务脚本，启动以后，可以开机自启动。<br>如果第一次安装，会默认配置一个简单的样例配置文件，创建了两个样例隧道，一个web，一个ssh<br>cpolar配置文件路径: /usr/local/etc/cpolar/cpolar.yml<br></code></pre></td></tr></table></figure><p>启动成功后，登录cpolar官网后台查看<a href="https://dashboard.cpolar.com/status">状态</a>，可以查看到所有在线隧道的公网地址，找到SSH隧道的公网地址，复制下来。</p><p><img src="/2022/10/15/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7%E2%80%94%E2%80%94cpolar/ssh状态.png#pic_center" alt>  </p><p>然后就可以使用ssh相关工具通过公网ip登录了。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh username@公网地址 -p 端口号<br></code></pre></td></tr></table></figure><br>如<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh pi@1.tcp.vip.cpolar.cn -p 20013<br></code></pre></td></tr></table></figure><br>由于我们的本地22端口到了公网被映射到了20013端口，所以，ssh命令需要加-p参数，后面加公网隧道端口号。</p>]]></content>
      
      
      <categories>
          
          <category> 实用技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 内网穿透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>内网穿透工具——SakuraFrp</title>
      <link href="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/"/>
      <url>/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p><a href="https://www.natfrp.com/user/">SakuraFrp</a>是一个内网穿透工具，使用它就可以轻松的实现在不是同一个局域网下的远程连接☺️。<br><span id="more"></span></p><h2 id="😋SakuraFrp简单介绍"><a href="#😋SakuraFrp简单介绍" class="headerlink" title="😋SakuraFrp简单介绍"></a>😋SakuraFrp简单介绍</h2><p>内网穿透的基本原理可以戳<a href="https://doc.natfrp.com/#/basics">此处</a>。</p><h2 id="😋被控端电脑接入步骤"><a href="#😋被控端电脑接入步骤" class="headerlink" title="😋被控端电脑接入步骤"></a>😋被控端电脑接入步骤</h2><h3 id="😉Sakura-frp账号注册"><a href="#😉Sakura-frp账号注册" class="headerlink" title="😉Sakura frp账号注册"></a>😉Sakura frp账号注册</h3><p>首先在<a href="https://www.natfrp.com/user/">官网</a>注册Sakura frp账号。注册完成后需要进行实名认证:</p><!-- <center><img src="./SakuraFrp内网穿透工具/实名认证.png" width=60%></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/实名认证.png#pic_center" alt></p><p>点击首页的这个地方可以查看访问密钥，这个密钥待会用得上，不能把访问密钥告诉给他人。</p><!-- <center><img src='SakuraFrp内网穿透工具/访问密钥.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/访问密钥.png#pic_center" alt></p><h3 id="😉windows被控端设置"><a href="#😉windows被控端设置" class="headerlink" title="😉windows被控端设置"></a>😉windows被控端设置</h3><p>点击<code>穿透</code>下的<code>软件下载</code>按钮</p><!-- <center><img src='SakuraFrp内网穿透工具/doownloads.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/doownloads.png#pic_center" alt></p><p>进入页面后，官方推荐的是直接下载启动器，因此我们直接下载启动器即可。</p><!-- <center><img src='SakuraFrp内网穿透工具/启动器.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/启动器.png#pic_center" alt></p><p>下载完成后，点击安装即可。安装完后打开，软件大概长这样。</p><!-- <center><img src='SakuraFrp内网穿透工具/软件.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/软件.png#pic_center" alt></p><p>将刚才网页上的访问密钥填入，登录即可。</p><p>登陆完成后，点左边菜单栏的隧道，点击<code>+</code>号，进行相应的填写。例如这样</p><!-- <center><img src='SakuraFrp内网穿透工具/隧道.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/隧道.png#pic_center" alt></p><p>需要注意的是<code>隧道类型</code>和<code>穿透节点</code>的选择。<code>隧道类型</code>选择<code>TCP</code>（想使用<code>ssh</code>方式，也是选择<code>TCP</code>），<code>穿透结点</code>选择一个可以用的就行，本地IP填写<code>127.0.0.1</code>即可。填写完成后点击创建，隧道就创建成功了。</p><!-- <center><img src='SakuraFrp内网穿透工具/隧道开启.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/隧道开启.png#pic_center" alt></p><blockquote><p>隧道的创建也可以直接在网页上创建，然后在启动器中刷新即可。</p></blockquote><p>最后，点击开启刚才的隧道，会弹出日志信息，记住这个日志信息上面的IP或者服务器域名，待会通过这个IP连接被控电脑：</p><!-- <center><img src='SakuraFrp内网穿透工具/20221015135818.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/20221015135818.png#pic_center" alt></p><p>至此，内网穿透全部搞定，被控电脑全部设置完毕。</p><h3 id="😉远程连接被控端"><a href="#😉远程连接被控端" class="headerlink" title="😉远程连接被控端"></a>😉远程连接被控端</h3><p>上面创建内网穿透的过程其实就是分配了一个公网IP，所以接下来我们可以通过这个公网IP来访问我们的电脑；</p><p>win10提供了相当给力的远程连接工具：“远程桌面连接”。可以在windows系统之间进行远程控制。</p><p>如果没有启动远程桌面连接，那么按照下述步骤设置。</p><ol><li><p>打开<code>我的电脑</code>，右键点击<code>属性</code></p> <!-- <center><img src='SakuraFrp内网穿透工具/属性.png' width=60%/></center> --><p> <img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/属性.png#pic_center" alt></p></li><li><p>选择<code>远程设置</code></p> <!-- <center><img src='SakuraFrp内网穿透工具/远程设置.png' width=60%/></center> --><p> <img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/远程设置.png#pic_center" alt></p></li><li><p>点击<code>允许远程协助连接此计算机</code>即可开启。</p> <!-- <center><img src='SakuraFrp内网穿透工具/20221015140700.png' width=60%/></center> --><p> <img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/20221015140700.png#pic_center" alt></p></li><li><p>开启之后，打开<code>远程桌面连接</code>程序，直接电脑的左下角菜单栏搜索即可出来。填入内网穿透的地址、远程计算机账户名、密码(无密码留空)即可远程。</p> <!-- <center><img src='SakuraFrp内网穿透工具/远程桌面.png' width=60%/></center> --><p> <img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/远程桌面.png#pic_center" alt></p></li></ol><h3 id="😉ubuntu被控端设置"><a href="#😉ubuntu被控端设置" class="headerlink" title="😉ubuntu被控端设置"></a>😉ubuntu被控端设置</h3><p>ubuntu被控端需要下载<code>frpc</code>客户端，点击<code>穿透</code>下的<code>软件下载</code>按钮，进入后选择<code>linux系统</code></p><!-- <center><img src='SakuraFrp内网穿透工具/20221015141250.png' width=60%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/20221015141250.png#pic_center" alt></p><p>至于选择哪一个架构，可以在ubutnu系统中在终端使用命令查看：</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">dpkg <span class="hljs-comment">--print-architecture</span><br></code></pre></td></tr></table></figure><p>或者使用<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">uname</span> -m<br></code></pre></td></tr></table></figure></p><!-- <center><img src='SakuraFrp内网穿透工具/20221015141845.png' width=50%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/20221015141845.png#pic_center" alt></p><p>详情可参考<a href="https://blog.csdn.net/weixin_41010198/article/details/109166131">博客</a>查看Linux系统架构的命令。我的是<code>amd64</code>，因此选择<code>amd64</code>点击右边的<code>复制链接</code>。</p><p>在终端使用下面的命令进入 <code>/usr/local/bin</code> 目录并下载文件,确保现在已经处于有 <code>root</code> 权限的环境下。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /usr/local/bin<br><br><span class="hljs-comment"># 一般来说只需要使用这条命令:</span><br>wget -O frpc &lt;下载地址&gt;<br><br><span class="hljs-comment"># 如果上面的命令报错，请尝试这条:</span><br>curl -Lo frpc &lt;下载地址&gt;<br><br><span class="hljs-comment"># Linux frpc 通常已经过 UPX 压缩，如需下载未压缩的版本请在下载地址尾部加上 _noupx</span><br><br></code></pre></td></tr></table></figure><!-- <center><img src='SakuraFrp内网穿透工具/终端演示.png' width=50%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/终端演示.png#pic_center" alt></p><p>然后设置权限并校验文件是否有损坏：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">chmod</span> 755 frpc<br><span class="hljs-built_in">ls</span> -<span class="hljs-built_in">ls</span> frpc<br><span class="hljs-built_in">md5sum</span> frpc<br></code></pre></td></tr></table></figure><!-- <center><img src='SakuraFrp内网穿透工具/校验.png' width=50%/></center> --><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/校验.png#pic_center" alt></p><p>此时 <code>frpc</code> 就安装完成并可以正常使用了。可以用此命令查看 <code>frpc</code> 版本号：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">frpc -v<br></code></pre></td></tr></table></figure></p><h3 id="😉ubutnu-使用-frpc"><a href="#😉ubutnu-使用-frpc" class="headerlink" title="😉ubutnu 使用 frpc"></a>😉ubutnu 使用 frpc</h3><p>通过上节安装完成后，在终端使用命令开启frpc，注意加root权限：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">sudo frpc<br></code></pre></td></tr></table></figure><br>在 Token 后面的文本框内输入访问密钥，然后使用 Tab 键切换到 Login 按钮并按 回车 键登录 (若终端支持也可使用鼠标进行操作)：</p><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/login.png#pic_center" alt></p><p>登录成功后 TUI 会显示当前账户下的隧道列表，使用方向键选中想要启动的隧道，按空格标为绿色 (或使用鼠标直接点击隧道)：</p><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/choice.png#pic_center" alt></p><blockquote><p>可以一次性启用多个隧道，但是这些隧道必须位于同一节点下,也可以直接选中节点来启用该节点下的所有隧道</p></blockquote><p>选择完毕后，即可启动隧道，相关启动参数会被保存到配置文件 frpc.ini 中，下次不带参数直接运行 frpc 时不再显示 TUI 而是直接启动隧道。</p><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/frpc开启.png#pic_center" alt></p><p>至此，ubuntu的被控端部分设置完毕，远程只需要填入得到的公网ip或者域名即可。</p><p>例如，隧道启动成功后，使用vscode的远程remote插件连接ssh，那么只需要打开</p><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/vscode_ssh.png#pic_center" alt>  </p><p>然后输入对应的ip和端口</p><p><img src="/2022/10/15/SakuraFrp%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F%E5%B7%A5%E5%85%B7/20221015201032.png#pic_center" alt>  </p><p>如：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh YHS@2.tcp.vip.cpolar.cn -p 14884<br></code></pre></td></tr></table></figure></p><p><code>YHS</code>为被控电脑的用户名，<code>2.tcp.vip.cpolar.cn</code>为公网ip，<code>14884</code>为远程端口号。<br>这样就可以连接上ssh了。</p>]]></content>
      
      
      <categories>
          
          <category> 实用技巧 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 内网穿透 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客主页美化</title>
      <link href="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/"/>
      <url>/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><p>搭建的hexo博客的美化技巧。<br><span id="more"></span></p><p>除了<a href="https://docs.nexmoe.com/v3.2/">主题自带的技巧</a>外，这边再总结一些我用到的技巧。</p><h2 id="文章封面生成随机图片"><a href="#文章封面生成随机图片" class="headerlink" title="文章封面生成随机图片"></a>文章封面生成随机图片</h2><p>使用: 只要请求图片时, 将路径改为API提供的路径即可.</p><p>对于Markdown来说:</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs scss">!<span class="hljs-selector-attr">[image_infp]</span>(API_URL)<br></code></pre></td></tr></table></figure><p>对于HTML来说是修改src属性:</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs stylus">&lt;<span class="hljs-selector-tag">img</span> <span class="hljs-attribute">src</span>=<span class="hljs-string">&quot;API_URL&quot;</span> /&gt;<br></code></pre></td></tr></table></figure><p>但是仅仅这样做会出现一个问题:</p><p>当前页面使用同一个api链接的文章, 图片显示的都是同一张!(说好的随机呢?)</p><p>问题就出现在, 发起请求时, 由于链接地址是同一个, 实际上即使同一个页面中有多个(相同)图片链接, 也仅仅发起一次请求, 所以也就返回一张图片了!</p><p>所以只要修改链接不同即可!</p><p>以本博客使用到的api为例: <a href="http://api.mtyqx.cn/tapi/random.php">http://api.mtyqx.cn/tapi/random.php</a></p><p>可以在末尾添加<code>?x</code>, 其中<code>x</code>是一个数字, 如: <a href="http://api.mtyqx.cn/tapi/random.php?54615">http://api.mtyqx.cn/tapi/random.php?54615</a></p><p>此时这是两个完全不同的请求, 所以显示的图片即为不同了!</p><h3 id="附随机图片的一些API"><a href="#附随机图片的一些API" class="headerlink" title="附随机图片的一些API"></a>附随机图片的一些API</h3><ul><li>二次元: <a href="https://img.paulzzh.tech/touhou/random">https://img.paulzzh.tech/touhou/random</a></li><li>二次元: <a href="http://www.dmoe.cc/random.php">http://www.dmoe.cc/random.php</a></li><li>二次元：<a href="http://api.mtyqx.cn/tapi/random.php">http://api.mtyqx.cn/tapi/random.php</a></li></ul><h2 id="添加动漫人物-看板娘"><a href="#添加动漫人物-看板娘" class="headerlink" title="添加动漫人物(看板娘)"></a>添加动漫人物(看板娘)</h2><p>Hexo博客本身支持看板娘的，三步即可。</p><p>第一步，在主目录下执行命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install --save hexo-helper-live2d<br></code></pre></td></tr></table></figure><p>第二步，同样在主目录下执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install live2d-widget-model-shizuku<br></code></pre></td></tr></table></figure><p><code>live2d-widget-model-shizuku</code>是可选项。可选的模型如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-string">live2d-widget-model-chitose</span><br><span class="hljs-string">live2d-widget-model-epsilon2_1</span><br><span class="hljs-string">live2d-widget-model-gf</span><br><span class="hljs-string">live2d-widget-model-haru</span><br><span class="hljs-string">live2d-widget-model-haruto</span><br><span class="hljs-string">live2d-widget-model-hibiki</span><br><span class="hljs-string">live2d-widget-model-hijiki</span><br><span class="hljs-string">live2d-widget-model-izumi</span><br><span class="hljs-string">live2d-widget-model-koharu</span><br><span class="hljs-string">live2d-widget-model-miku</span><br><span class="hljs-string">live2d-widget-model-ni-j</span><br><span class="hljs-string">live2d-widget-model-nico</span><br><span class="hljs-string">live2d-widget-model-nietzsche</span><br><span class="hljs-string">live2d-widget-model-nipsilon</span><br><span class="hljs-string">live2d-widget-model-nito</span><br><span class="hljs-string">live2d-widget-model-shizuku</span><br><span class="hljs-string">live2d-widget-model-tororo</span><br><span class="hljs-string">live2d-widget-model-tsumiki</span><br><span class="hljs-string">live2d-widget-model-unitychan</span><br><span class="hljs-string">live2d-widget-model-wanko</span><br><span class="hljs-string">live2d-widget-model-z16</span><br></code></pre></td></tr></table></figure><p>第三步，在根目录配置文件（_config.yml）中添加如下代码：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">live2d:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">scriptFrom:</span> <span class="hljs-string">local</span><br>  <span class="hljs-attr">pluginRootPath:</span> <span class="hljs-string">live2dw/</span><br>  <span class="hljs-attr">pluginJsPath:</span> <span class="hljs-string">lib/</span><br>  <span class="hljs-attr">pluginModelPath:</span> <span class="hljs-string">assets/</span><br>  <span class="hljs-attr">tagMode:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">log:</span> <span class="hljs-literal">false</span><br>  <span class="hljs-attr">model:</span><br>    <span class="hljs-attr">use:</span> <span class="hljs-string">live2d-widget-model-shizuku</span><br>  <span class="hljs-attr">display:</span><br>    <span class="hljs-attr">position:</span> <span class="hljs-string">right</span><br>    <span class="hljs-attr">width:</span> <span class="hljs-number">150</span><br>    <span class="hljs-attr">height:</span> <span class="hljs-number">300</span><br>  <span class="hljs-attr">mobile:</span><br>    <span class="hljs-attr">show:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">react:</span><br>    <span class="hljs-attr">opacity:</span> <span class="hljs-number">0.7</span><br></code></pre></td></tr></table></figure><p>然后重新部署即可。</p><p>hexo博客本身看板娘角色比较单调，stevenjoezhang大佬写了一个可以说话，可以换装的看板娘项目并开源，使用起来也是非常的方便。下面是Nexmoe主题下的安装步骤。</p><ol><li><p>下载大神的仓库<a href="https://github.com/stevenjoezhang/live2d-widget">live2d-widget</a>到主目录<code>\themes\nexmoe\source</code>下，修改<code>live2d-widget</code>目录下的<code>autoload.js</code>文件中的路径</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 注意：live2d_path 参数应使用绝对路径</span><br><span class="hljs-comment">//const live2d_path = &quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/&quot;;</span><br><span class="hljs-type">const</span> live2d_path = <span class="hljs-string">&quot;/live2d-widget/&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>往<code>\themes\nexmoe\layout\_partial\_post</code>目录下的<code>header.ejs</code>添加以下代码(在第一个<code>div</code>标签内):</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 注意：live2d_path 参数应使用绝对路径</span><br><span class="hljs-comment">//const live2d_path = &quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget@latest/&quot;;</span><br><span class="hljs-type">const</span> live2d_path = <span class="hljs-string">&quot;/live2d-widget/&quot;</span>;<br></code></pre></td></tr></table></figure></li><li><p>在根目录配置文件（_config.yml）中添加如下代码：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">live2d:</span> <span class="hljs-comment">##自定义看板娘动画</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure></li></ol><p>然后重新部署即可。想修改看板娘大小、位置、格式、文本内容等，可查看并修改 <code>waifu-tips.js</code> 、 <code>waifu-tips.json</code> 和 <code>waifu.css</code>。其实看板娘可以侧边隐藏，对样本的修改影响也不大。</p><h2 id="添加评论"><a href="#添加评论" class="headerlink" title="添加评论"></a>添加评论</h2><p>本篇博客使用的主题是<code>nexmoe</code>主题，它的配置评论的方式如下（gitalk为例）：</p><ul><li><p>在<a href="https://github.com/settings/applications/new">GitHub</a>上申请<code>OAuth application</code><br><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/gitalk_appl.png" alt>  </p></li><li><p>点击生成后，记住<code>Client ID</code>和 <code>Client Secret</code></p></li><li><p>在<code>themes</code>文件夹下的<code>_config.nexmoe.yml</code>文件中，把刚才的<code>Client ID</code>和 <code>Client Secret</code>填在下面方框：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml">slotComment: &#x27;<br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;gitalk-container&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> gitalk = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Gitalk</span>(&#123;</span><br><span class="language-javascript">  <span class="hljs-attr">clientID</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">clientSecret</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">repo</span>: <span class="hljs-string">&quot;CHH3213.github.io&quot;</span>,      </span><br><span class="language-javascript">  <span class="hljs-attr">owner</span>: <span class="hljs-string">&quot;CHH3213&quot;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">admin</span>: <span class="hljs-string">&quot;CHH3213&quot;</span>,</span><br><span class="language-javascript">  <span class="hljs-attr">id</span>:  <span class="hljs-built_in">decodeURI</span>(<span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span>)     </span><br><span class="language-javascript">&#125;);</span><br><span class="language-javascript">gitalk.<span class="hljs-title function_">render</span>(<span class="hljs-string">&quot;gitalk-container&quot;</span>)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>&#x27;<br></code></pre></td></tr></table></figure><p>即下图所示：<br><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/config.png" alt><br>文章代码中出现过这两个链接</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>这两个链接指引的文件是配置gitalk的代码，可以下载后保存于自己的网站并修改文章中的链接，获得相同的效果。</p></li><li><p>然后配置完成后，在需要开启评论框的文章中，开启评论：<code>comments: true</code>即可。</p></li><li>最后，<code>hexo g -d</code>部署生成后登录评论框初始化即可。</li></ul><blockquote><p><code>nexmoe</code>主题的评论已经支持了任何评论系统，在<code>themes/nexmoe/layout/post.ejs</code>文件中可以看到，它是这么开启的<br><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/slot.png" alt>  </p></blockquote><h2 id="添加页面点击出现爱心特效"><a href="#添加页面点击出现爱心特效" class="headerlink" title="添加页面点击出现爱心特效"></a>添加页面点击出现爱心特效</h2><ul><li><p>在 <code>themes/你选择的主题/source/js</code> 下新建文件 <code>heart.js</code>文件 ，添加：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs js">!(<span class="hljs-keyword">function</span> (<span class="hljs-params">e, t, a</span>) &#123;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">n</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">c</span>(<br>      <span class="hljs-string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span><br>    ),<br>      <span class="hljs-title function_">o</span>(),<br>      <span class="hljs-title function_">r</span>();<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">r</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> e = <span class="hljs-number">0</span>; e &lt; d.<span class="hljs-property">length</span>; e++)<br>      d[e].<span class="hljs-property">alpha</span> &lt;= <span class="hljs-number">0</span><br>        ? (t.<span class="hljs-property">body</span>.<span class="hljs-title function_">removeChild</span>(d[e].<span class="hljs-property">el</span>), d.<span class="hljs-title function_">splice</span>(e, <span class="hljs-number">1</span>))<br>        : (d[e].<span class="hljs-property">y</span>--,<br>          (d[e].<span class="hljs-property">scale</span> += <span class="hljs-number">0.004</span>),<br>          (d[e].<span class="hljs-property">alpha</span> -= <span class="hljs-number">0.013</span>),<br>          (d[e].<span class="hljs-property">el</span>.<span class="hljs-property">style</span>.<span class="hljs-property">cssText</span> =<br>            <span class="hljs-string">&quot;left:&quot;</span> +<br>            d[e].<span class="hljs-property">x</span> +<br>            <span class="hljs-string">&quot;px;top:&quot;</span> +<br>            d[e].<span class="hljs-property">y</span> +<br>            <span class="hljs-string">&quot;px;opacity:&quot;</span> +<br>            d[e].<span class="hljs-property">alpha</span> +<br>            <span class="hljs-string">&quot;;transform:scale(&quot;</span> +<br>            d[e].<span class="hljs-property">scale</span> +<br>            <span class="hljs-string">&quot;,&quot;</span> +<br>            d[e].<span class="hljs-property">scale</span> +<br>            <span class="hljs-string">&quot;) rotate(45deg);background:&quot;</span> +<br>            d[e].<span class="hljs-property">color</span> +<br>            <span class="hljs-string">&quot;;z-index:99999&quot;</span>));<br>    <span class="hljs-title function_">requestAnimationFrame</span>(r);<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">o</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> t = <span class="hljs-string">&quot;function&quot;</span> == <span class="hljs-keyword">typeof</span> e.<span class="hljs-property">onclick</span> &amp;&amp; e.<span class="hljs-property">onclick</span>;<br>    e.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>      t &amp;&amp; <span class="hljs-title function_">t</span>(), <span class="hljs-title function_">i</span>(e);<br>    &#125;;<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">i</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-keyword">var</span> a = t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);<br>    (a.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;heart&quot;</span>),<br>      d.<span class="hljs-title function_">push</span>(&#123;<br>        <span class="hljs-attr">el</span>: a,<br>        <span class="hljs-attr">x</span>: e.<span class="hljs-property">clientX</span> - <span class="hljs-number">5</span>,<br>        <span class="hljs-attr">y</span>: e.<span class="hljs-property">clientY</span> - <span class="hljs-number">5</span>,<br>        <span class="hljs-attr">scale</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-attr">alpha</span>: <span class="hljs-number">1</span>,<br>        <span class="hljs-attr">color</span>: <span class="hljs-title function_">s</span>(),<br>      &#125;),<br>      t.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(a);<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">c</span>(<span class="hljs-params">e</span>) &#123;<br>    <span class="hljs-keyword">var</span> a = t.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;style&quot;</span>);<br>    a.<span class="hljs-property">type</span> = <span class="hljs-string">&quot;text/css&quot;</span>;<br>    <span class="hljs-keyword">try</span> &#123;<br>      a.<span class="hljs-title function_">appendChild</span>(t.<span class="hljs-title function_">createTextNode</span>(e));<br>    &#125; <span class="hljs-keyword">catch</span> (t) &#123;<br>      a.<span class="hljs-property">styleSheet</span>.<span class="hljs-property">cssText</span> = e;<br>    &#125;<br>    t.<span class="hljs-title function_">getElementsByTagName</span>(<span class="hljs-string">&quot;head&quot;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">appendChild</span>(a);<br>  &#125;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      <span class="hljs-string">&quot;rgb(&quot;</span> +<br>      ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) +<br>      <span class="hljs-string">&quot;,&quot;</span> +<br>      ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) +<br>      <span class="hljs-string">&quot;,&quot;</span> +<br>      ~~(<span class="hljs-number">255</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) +<br>      <span class="hljs-string">&quot;)&quot;</span><br>    );<br>  &#125;<br>  <span class="hljs-keyword">var</span> d = [];<br>  (e.<span class="hljs-property">requestAnimationFrame</span> = (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>      e.<span class="hljs-property">requestAnimationFrame</span> ||<br>      e.<span class="hljs-property">webkitRequestAnimationFrame</span> ||<br>      e.<span class="hljs-property">mozRequestAnimationFrame</span> ||<br>      e.<span class="hljs-property">oRequestAnimationFrame</span> ||<br>      e.<span class="hljs-property">msRequestAnimationFrame</span> ||<br>      <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-built_in">setTimeout</span>(e, <span class="hljs-number">1e3</span> / <span class="hljs-number">60</span>);<br>      &#125;<br>    );<br>  &#125;)()),<br>    <span class="hljs-title function_">n</span>();<br>&#125;)(<span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span>);<br></code></pre></td></tr></table></figure></li><li><p>在<code>themes/你选择的主题/layout/layout.ejs</code>文件的<code>body</code>标签内添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 页面点击小红心-- 20221025--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/heart.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>重新部署生成后，即可出现特效。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">hexo clean &amp; hexo generate &amp; hexo server<br></code></pre></td></tr></table></figure><!-- ![](博客主页美化/heart.png)   --></li></ul><h2 id="浏览器网页标题特效"><a href="#浏览器网页标题特效" class="headerlink" title="浏览器网页标题特效"></a>浏览器网页标题特效</h2><ul><li><p>当用户访问你的博客时点击到了其他网页，我们可以让网页标题产生特效，呼唤用户回来，首先在目录 <code>themes/你选择的主题/source/js</code>  下新建一个 <code>funnyTitle.js</code> 文件，在里面填写如下代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;!--浏览器搞笑标题--&gt;<br><span class="hljs-keyword">var</span> <span class="hljs-title class_">OriginTitle</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span>;<br><span class="hljs-keyword">var</span> titleTime;<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;visibilitychange&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-property">hidden</span>) &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/img/trhx2.png&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;ヽ(●-`Д´-)ノ我在这等你！&#x27;</span>;<br>        <span class="hljs-built_in">clearTimeout</span>(titleTime);<br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        $(<span class="hljs-string">&#x27;[rel=&quot;icon&quot;]&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>, <span class="hljs-string">&quot;/img/trhx2.png&quot;</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;ヾ(Ő∀Ő3)ノ谢谢你回来！&#x27;</span> + <span class="hljs-title class_">OriginTitle</span>;<br>        titleTime = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-title class_">OriginTitle</span>;<br>        &#125;, <span class="hljs-number">2000</span>);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure></li><li><p>在<code>themes/你选择的主题/layout/layout.ejs</code>文件的<code>body</code>标签内添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--搞笑title--&gt;</span>&gt;<br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/funnyTitle.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li>重新部署即可。</li></ul><h2 id="添加代码块复制功能"><a href="#添加代码块复制功能" class="headerlink" title="添加代码块复制功能"></a>添加代码块复制功能</h2><p>博客主题本身并没有集成代码块复制功能，因此这里给主题添加这个功能。</p><blockquote><p>此方法对所有没有代码块复制功能的主题都有效，基于 <a href="https://github.com/zenorocha/clipboard.js">https://github.com/zenorocha/clipboard.js</a> 实现.</p></blockquote><ul><li><p>下载<a href="https://raw.githubusercontent.com/zenorocha/clipboard.js/master/dist/clipboard.min.js">js文件</a>保存到<code>themes/你的主题/source/js</code>下。</p></li><li><p>在<code>themes/你的主题/source/js</code>目录下，创建<code>clipboard-use.js</code>，文件，添加内容如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-string">&quot;.highlight&quot;</span>).<span class="hljs-title function_">wrap</span>(<span class="hljs-string">&quot;&lt;div class=&#x27;code-wrapper&#x27; style=&#x27;position:relative&#x27;&gt;&lt;/div&gt;&quot;</span>);<br><span class="hljs-comment">/*页面载入完成后，创建复制按钮*/</span><br>!<span class="hljs-keyword">function</span> (<span class="hljs-params">e, t, a</span>) &#123;<br>    <span class="hljs-comment">/* code */</span><br>    <span class="hljs-keyword">var</span> initCopyCode = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> copyHtml = <span class="hljs-string">&#x27;&#x27;</span>;<br>        copyHtml += <span class="hljs-string">&#x27;&lt;button class=&quot;btn-copy&quot; data-clipboard-snippet=&quot;&quot;&gt;&#x27;</span>;<br>        copyHtml += <span class="hljs-string">&#x27;  &lt;i class=&quot;fa fa-clipboard&quot;&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;&#x27;</span>;<br>        copyHtml += <span class="hljs-string">&#x27;&lt;/button&gt;&#x27;</span>;<br>        $(<span class="hljs-string">&quot;.highlight .code&quot;</span>).<span class="hljs-title function_">before</span>(copyHtml);<br>        <span class="hljs-keyword">var</span> clipboard = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClipboardJS</span>(<span class="hljs-string">&#x27;.btn-copy&#x27;</span>, &#123;<br>            <span class="hljs-attr">target</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">trigger</span>) &#123;<br>                <span class="hljs-keyword">return</span> trigger.<span class="hljs-property">nextElementSibling</span>;<br>            &#125;<br>        &#125;);<br>        clipboard.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;success&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>            e.<span class="hljs-property">trigger</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;&lt;i class=&#x27;fa fa-clipboard&#x27;&gt;&lt;/i&gt;&lt;span&gt;复制成功&lt;/span&gt;&quot;</span><br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                e.<span class="hljs-property">trigger</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;&lt;i class=&#x27;fa fa-clipboard&#x27;&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;&quot;</span><br>            &#125;, <span class="hljs-number">1000</span>)<br>          <br>            e.<span class="hljs-title function_">clearSelection</span>();<br>        &#125;);<br>        clipboard.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>            e.<span class="hljs-property">trigger</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;&lt;i class=&#x27;fa fa-clipboard&#x27;&gt;&lt;/i&gt;&lt;span&gt;复制失败&lt;/span&gt;&quot;</span><br>            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                e.<span class="hljs-property">trigger</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&quot;&lt;i class=&#x27;fa fa-clipboard&#x27;&gt;&lt;/i&gt;&lt;span&gt;复制&lt;/span&gt;&quot;</span><br>            &#125;, <span class="hljs-number">1000</span>)<br>            e.<span class="hljs-title function_">clearSelection</span>();<br>        &#125;);<br>    &#125;<br>    <span class="hljs-title function_">initCopyCode</span>();<br>&#125;(<span class="hljs-variable language_">window</span>, <span class="hljs-variable language_">document</span>);<br></code></pre></td></tr></table></figure></li><li><p>在<code>themes/你的主题/source/css/style.css</code>或者<code>themes/你的主题/source/css/style.styl</code> 样式（有的主题是<code>css格式</code>，有的是<code>styl格式</code>，差别并不大。）中添加如下代码：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs css">//代码块复制按钮<br><span class="hljs-selector-class">.highlight</span>&#123;<br>  //方便copy代码按钮（btn-copy）的定位<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-class">.btn-copy</span> &#123;<br>    <span class="hljs-attribute">display</span>: inline-block;<br>    <span class="hljs-attribute">cursor</span>: pointer;<br>    <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#eee</span>;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">#fcfcfc</span>,<span class="hljs-number">#eee</span>);<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#d5d5d5</span>;<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">3px</span>;<br>    -webkit-user-select: none;<br>    -moz-user-select: none;<br>    -ms-user-select: none;<br>    user-select: none;<br>    -webkit-appearance: none;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">13px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">700</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#333</span>;<br>    -webkit-<span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">3s</span> ease-in-out;<br>    -o-<span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">3s</span> ease-in-out;<br>    <span class="hljs-attribute">transition</span>: opacity .<span class="hljs-number">3s</span> ease-in-out;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">2px</span> <span class="hljs-number">6px</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">right</span>: <span class="hljs-number">5px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">5px</span>;<br>    <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-selector-class">.btn-copy</span> <span class="hljs-selector-tag">span</span> &#123;<br>    <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><span class="hljs-selector-class">.highlight</span><span class="hljs-selector-pseudo">:hover</span> <span class="hljs-selector-class">.btn-copy</span>&#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>  <span class="hljs-attribute">z-index</span>: <span class="hljs-number">100</span> //这个是让按钮处于最顶层，数值越大，层级越上<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>引用js文件，将以下代码加入到你的<code>layout布局文件</code>（例如，nexmoe主题是在<code>themes/你的主题/layout/layout.ejs</code>文件）的<code>body标签</code>内：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- 代码块复制功能,注意src路径 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/clipboard.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>  <br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/clipboard-use.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><blockquote><p>当然将 <code>clipboard.js</code> 和 <code>clipboard-use.js</code> 保存到CDN上，通过远程引用也可以.</p><p>目前存在的bug：如果代码块部分内容超出有横向滑动,复制按钮copy就会跟着移动,而不能固定在右上角</p></blockquote><h2 id="代码块高亮"><a href="#代码块高亮" class="headerlink" title="代码块高亮"></a>代码块高亮</h2><p>在<code>nexmoe</code>主题中，使用hexo原生的<code>hightlight</code>并没有起作用，根据<a href="https://hexo.io/zh-cn/docs/syntax-highlight#Highlight-js">官网教程</a>，这里给出两种方法进行代码块的高亮。</p><h3 id="使用prismjs进行代码高亮"><a href="#使用prismjs进行代码高亮" class="headerlink" title="使用prismjs进行代码高亮"></a>使用prismjs进行代码高亮</h3><p>Prism是一种轻量级的，可扩展的语法突出显示工具，在构建时考虑了现代Web标准。</p><ul><li><p>进入<a href="https://prismjs.com/download.html">prismjs官网</a>，依据情况选择主题、语言和最下方的插件。</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/prismjs-1.png" alt>  </p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/prismjs-2.png" alt>  </p><p>其中语言我全部勾选了，插件如图所示选择了两个。选择完成后点击下方的下载按钮，分别下载css和js文件。下载后的文件可以保存在<code>themes/你的主题/source/js</code>文件夹下。</p></li><li><p>下载完成后，引入css文件和js文件即可。打开<code>themes/你的主题/layout/layout.ejs</code>文件（部分主题可能是swig格式），在<code>head</code>标签内添加<code>css</code>文件链接：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/css/prism.css&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>其中<code>href</code>后面填写的就是你下载的css文件的路径。假如你放在了<code>themes/你的主题/source/js</code>文件夹下，那么引入方式为：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/js/prism.css&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>即下图：</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/head_table.png" alt>  </p></li></ul><ul><li><p>js文件的引入类似，也是在这个文件中，但是此时是在<code>body</code>标签内引入。</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/prism.js&quot;</span> <span class="hljs-attr">async</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>即下图：</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/body_label.png" alt>  </p></li></ul><p>  同理，<code>src</code>是你的路径。</p><ul><li><p>在完成上述步骤后，在博客的配置文件<code>_config.yml</code>中配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">highlight:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span><br><span class="hljs-attr">prismjs:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">preprocess:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">line_threshold:</span> <span class="hljs-number">0</span><br>  <span class="hljs-attr">tab_replace:</span> <span class="hljs-string">&#x27;&#x27;</span><br></code></pre></td></tr></table></figure></li><li><p>最后重新编译即可。</p></li></ul><h3 id="使用hightlight-js进行代码高亮"><a href="#使用hightlight-js进行代码高亮" class="headerlink" title="使用hightlight.js进行代码高亮"></a>使用hightlight.js进行代码高亮</h3><p>使用hightlight.js配置的方式与prismjs类似。</p><ul><li><p>首先前往<a href="https://highlightjs.org/download/">hightlight.js下载页面</a>，勾选常用语言后，下拉点击<code>Download</code>按钮</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/hightlight.png" alt>  </p></li></ul><ul><li><p>将下载后的文件解压在<code>themes/你的主题/source/js</code>文件夹下。</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/folder.png" alt>  </p></li></ul><ul><li><p>打开<code>themes/你的主题/layout/layout.ejs</code>文件，在<code>body</code>标签内引入：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/js/highlight/highlight.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>即下图：</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/body_label.png" alt>  </p><p>注意<code>src</code>是你存放的路径。</p></li><li><p>然后，打开<code>hightlight/styles/</code>文件夹，里面有很多<code>css</code>主题样式，选择一个你想要的主题，例如，我选择的是<code>atom-one-dark.min.css</code>样式，那么就在<code>layout.ejs</code>文件下的<code>head</code>标签内引入：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;/js/highlight/styles/atom-one-dark.min.css&quot;</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p>即下图：</p><p><img src="/2022/06/12/%E5%8D%9A%E5%AE%A2%E4%B8%BB%E9%A1%B5%E7%BE%8E%E5%8C%96/head_table.png" alt>  </p></li><li><p>最后，在博客配置文件<code>_config.yml</code>中配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">highlight:</span><br>  <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">line_number:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">auto_detect:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">tab_replace:</span> <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-attr">wrap:</span> <span class="hljs-literal">true</span><br>  <span class="hljs-attr">hljs:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure></li><li><p>编译部署后即可生效。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 主页美化 </category>
          
          <category> hexo博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 美化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ubuntu20.04配置Qv2ray</title>
      <link href="/2022/04/15/ubuntu20-04%E9%85%8D%E7%BD%AEQv2ray/"/>
      <url>/2022/04/15/ubuntu20-04%E9%85%8D%E7%BD%AEQv2ray/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="参考资料："><a href="#参考资料：" class="headerlink" title="参考资料："></a>参考资料：</h2><p><a href="https://bella722.github.io/post/a231f91f.html">Ubuntu20.04下成功配置Qv2ray </a></p><h2 id="1-安装客户端"><a href="#1-安装客户端" class="headerlink" title="1. 安装客户端"></a>1. 安装客户端</h2><p>软件中心搜索<code>qv2ray</code>安装即可</p><h2 id="2-配置客户端"><a href="#2-配置客户端" class="headerlink" title="2. 配置客户端"></a>2. 配置客户端</h2><h3 id="2-1-软件配置"><a href="#2-1-软件配置" class="headerlink" title="2.1 软件配置"></a>2.1 软件配置</h3><p>打开Qv2ray, 会在主文件夹下的snap下自动生成一个名为<code>qv2ray</code>的文件夹</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/bbe8e7bc15dd4c7aa12bee2f5457d02d.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>进入<a href="https://github.com/v2fly/v2ray-core/releases/tag/v4.31.0">https://github.com/v2ray/v2ray-core/releases</a> ，根据自己的系统下载相应的核心文件，我这边下载的是v2ray-linux-64.zip</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/6b8a81295d094a3e8a8634d7622f0bfe.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>而后在目录<code>/home/your_user_name/snap/qv2ray/4576/.config/qv2ray</code>文件夹下新建<code>vcore</code>文件夹，并将之前下载的核心文件解压缩后全部拷贝到<code>vcore</code>文件夹内。注意这里的4576版本号是不固定的，根据自己的来就好。另外就是需要按住<code>ctrl+h</code>才能显示隐藏的.config文件夹。</p><p>以上完成后验证核心文件。点击Qv2ray界面中的<code>首选项</code>：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/12a1028766814baaaee3d4a93e8db503.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>然后点击<code>内核设置</code>—&gt;<code>检查V2Ray核心设置</code>：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/26cc2fde75ca4ed38a786da764fd82ea.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>如果一切正常，则会出现检查通过提示：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/ff22ca92a08448ae957c7a3376478a42.png" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>然后便可以点击OK，关闭。<br>除此之外，还需配置网络代理，首先查看<code>入站设置</code>中的默认网络代理：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/ab0725760a66464f8280a4e51cedc5c7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>例如我这里默认的是socks端口为<code>7891</code>,http端口为<code>7890</code>.这个端口号是可以修改的，这里用默认的就行。随后，ubuntu桌面右上角打开ubuntu的系统设置，选择<code>网络</code>—&gt;<code>网络代理</code></p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/b904c9467004414590fbc8d2f6485bfe.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>将网络代理切换为<code>手动</code>，如图所示，将HTTP和HTTPS代理端口填写为上面获取到的HTTP端口，Socks主机端口号也填写成上面获取到的端口号即可。</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/0beb3062e67e42799f3d0110fce96745.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>这一部分配置完成。</p><blockquote><p>注：默认端口号是可以更改的，只需要让<strong>软件</strong>中的端口号和<strong>ubuntu</strong>系统设置中的网络代理端口号保持一致，即可。</p></blockquote><h3 id="2-2-node配置"><a href="#2-2-node配置" class="headerlink" title="2.2 node配置"></a>2.2 node配置</h3><p>回到软件首页配置入网config文件。选择<code>新建</code>,出现如下信息：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/b6f1a0c64c3d4334aad73f5addc2651a.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>我们需要将获取到的node复制粘贴到所述的<code>分享链接</code>框内即可。<br>至于节点的获取，在这里分享一个github上的<code>free</code>获取地址：<a href="https://github.com/iwxf/free-v2ray">free node</a><br>导入node后，就会出现类似如图所示的界面：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/b78a1191f6ae4fa1806684be661c948c.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>双击任何一个node，即可连接成功。<br>如果不需要连接时，点击断开连接以及将ubuntu系统中的网络代理从<code>手动</code>切换为<code>禁用</code>。<br>最后祝小伙伴们使用愉快。</p>]]></content>
      
      
      <categories>
          
          <category> 实用技巧 </category>
          
          <category> VPN教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VPN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows下配置Qv2ray</title>
      <link href="/2022/04/15/windows%E4%B8%8B%E9%85%8D%E7%BD%AEQv2ray/"/>
      <url>/2022/04/15/windows%E4%B8%8B%E9%85%8D%E7%BD%AEQv2ray/</url>
      
        <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://bella722.github.io/post/a6ffce94.html">Windows下成功配置Qv2ray </a></p><h2 id="1-软件下载"><a href="#1-软件下载" class="headerlink" title="1. 软件下载"></a>1. 软件下载</h2><p>点击<a href="https://github.com/Qv2ray/Qv2ray/releases">https://github.com/Qv2ray/Qv2ray/releases</a>，根据自己系统选择对应的下载，我这边选的是</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/184030d4a7d84df0b758302180986f47.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><h2 id="2-配置核心文件"><a href="#2-配置核心文件" class="headerlink" title="2. 配置核心文件"></a>2. 配置核心文件</h2><p>点击<a href="https://github.com/v2fly/v2ray-core/releases">https://github.com/v2fly/v2ray-core/releases</a>，<br>根据你自己的环境选择对应的压缩包下载，成功后先从桌面打开qv2ray, 进入界面后在设置里根据提示的核心文件路径进行配置。</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/e3a364ecd3d94f188b74f56fccc1e15b.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/a1548a747ac9401c9d6db52a4d832b56.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>根据路径提示需要有一个名为vcore的文件夹，因此这里必须在相应路径下新建该文件夹。vcore文件夹新建好之后需要将刚才下载的压缩包里的核心文件拷贝过来。<br><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/50d0c1de012145a29fb10d4d6fff2bb2.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>接着通过核心验证。</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/4fe99280cead45a98119e31f758eadf0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><h2 id="3-node配置"><a href="#3-node配置" class="headerlink" title="3. node配置"></a>3. node配置</h2><p>回到软件首页，选择<code>导入</code>,出现如下信息：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/9375283d8c7f493fa9d89731edf57d89.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>我们需要将获取到的node复制粘贴到所述的<code>分享链接</code>框内即可。<br>至于节点的获取，在这里分享一个github上的<code>free</code>获取地址：<a href="https://github.com/iwxf/free-v2ray">free node</a><br>导入node后，就会出现类似如图所示的界面：</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/8b2904c2640d43a6ab2ef7492ec36edd.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>双击默认分组，可以看到所有节点</p><p><img data-fancybox="gallery" src="https://img-blog.csdnimg.cn/ac5c0eac89b94e43894ca6204cecfa4f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAQ0hIMzIxMw==,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述" data-caption="在这里插入图片描述" loading="lazy"></p><p>双击任何一个node，即可连接成功。<br>如果不需要连接时，点击断开连接即可。<br>最后祝小伙伴们使用愉快。</p>]]></content>
      
      
      <categories>
          
          <category> 实用技巧 </category>
          
          <category> VPN教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VPN </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
